
extend type Mutation {
    AddBlock(
        user_id: Int! @rules(apply: ["required", "int", "exists:users,id"]),
        writer_id: Int! @rules(apply: ["required", "int", "exists:users,id"]),
    ): UserBlock! @create  @event(dispatch: "App\\Events\\BlockWriter")

    DeleteBlock(id: ID! @eq):UserBlock! @delete
}

type UserBlock {
    id: ID!
    user_id: Int!
    user_blocked_id: Int!
    created_at: DateTime!

    blocks: [User]! @belongsToMany
}

